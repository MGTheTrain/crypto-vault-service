# api-v1

- **Encryption and Decryption of files**: For encryption or decryption, we expect the file to be uploaded as multipart/form-data and the file content will be processed based on the selected encryption/decryption keys algorithm (e.g. AES or RSA).
- **Hashing of files**: Hashing a file is useful for ensuring file integrity. This can be done using algorithms like SHA-256 or MD5. The resulting hash can be used to verify if the file was modified or corrupted.
- **Signature Verification**: When verifying a file signature, the system compares the provided signature (signed by a private key) with the file content using a public key (e.g. RSA).

---

| **Method** | **Endpoint**                        | **Description**                                                                                                      | **Request Body**                                                                                                                                                               | **Response**                                                    |
|------------|-------------------------------------|----------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|
| **POST**   | `/api/v1/blobs`                    | Upload a blob with optional encryption/signing.                                                                      | **FORM-data:** `encryption_key_id: <e.g. encryptionKey123>, sign_key_id: <e.g. signKey123>, files: <multipart-form-data>`                                                                                         | `{ "blob_id": "123", "name": "file1.txt", "date_time_created": "2024-11-01T10:00:00Z", "date_time_updated": "2024-11-01T10:00:00Z", "encryption_key_id": "encryptionKey123", "sign_key_id": "signKey123" }` |
| **GET**    | `/api/v1/blobs`                    | List metadata for selected blobs by query.                                                                                          | **JSON query parameters**                                                                                                                                                                                          | `{ "blobs": [{ "blob_id": "123", "name": "file1.txt", "date_time_created": "2024-11-01T10:00:00Z", "date_time_updated": "2024-11-01T10:00:00Z", "encryption_key_id": "encryptionKey123", "sign_key_id": "signKey123" }, ... ]}` |
| **GET**    | `/api/v1/blobs/{blob_id}`          | Retrieve metadata associated with a specific blob by its ID.                                                          | None                                                                                                                                                                                           | `{ "blob_id": "123", "name": "file1.txt", "date_time_created": "2024-11-01T10:00:00Z", "date_time_updated": "2024-11-01T10:00:00Z", "encryption_key_id": "encryptionKey123", "sign_key_id": "signKey123" }` |
| **GET**    | `/api/v1/blobs/{blob_id}/file`     | Download a specific blob by its ID.                                                                                   | None                                                                                                                                                                                           | `{ "file": <blob-data> }`                                          |
| **DELETE** | `/api/v1/blobs/{blob_id}`          | Delete a blob by its ID.                                                                                             | None                                                                                                                                                                                           | `{ "message": "Blob deleted successfully" }`                   |
| **POST**   | `/api/v1/keys`                     | Create a new cryptographic key in the key storage.                                                                      | **JSON request body:** `name: <e.g. example-key> <br> algorithm: <e.g. RSA> <br> key_size: <e.g. 2048>`                                                                                                                                  | `{ "key_id": "key123", "name": "example-key", "status": "created" }` |
| **GET**    | `/api/v1/keys`                     | List selected keys stored in the key storage by query.                                                                                 | **JSON query parameters**                                                                                                                                                                                           | `{ "keys": [{ "key_id": "key123", "name": "example-key", "algorithm": "RSA", "key_size": 2048 }, ... ] }` |
| **GET**    | `/api/v1/keys/{key_id}`            | Retrieve an existing key from the key storage by its ID.                                                                | None                                                                                                                                                                                           | `{ "key_id": "key123", "name": "example-key", "algorithm": "RSA", "key_size": 2048 }` |
| **GET**    | `/api/v1/keys/{key_id}/file`       | Download a cryptographic key from the key storage by its ID.                                                            | None                                                                                                                                                                                           | `{ "file": <key-data> }`                                        |
| **DELETE** | `/api/v1/keys/{key_id}`            | Delete a cryptographic key from the key storage by its ID.                                                              | None                                                                                                                                                                                           | `{ "message": "Key deleted successfully" }`                   |

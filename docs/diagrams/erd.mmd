erDiagram
    CRYPTOGRAPHIC_KEY {
        string key_id PK
        string key_value
        string key_type
        datetime created_at
        datetime expires_at
        string user_id FK
    }

    METADATA {
        string metadata_id PK
        string blob_id FK
        string key_id FK
        datetime created_at
        datetime updated_at
        string encryption_algorithm
        string content_type
        int size
        string user_id FK
    }

    BLOB {
        string blob_id PK
        string blob_storage_path
        datetime upload_time
        string user_id FK
        string blob_name
        int blob_size
        string blob_type
    }

    CRYPTOGRAPHIC_KEY ||--o| METADATA : "used in"
    CRYPTOGRAPHIC_KEY ||--o| BLOB : "associated with"
    BLOB ||--o| METADATA : "has metadata"
